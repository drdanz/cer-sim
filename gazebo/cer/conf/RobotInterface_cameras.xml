<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE robot PUBLIC "-//YARP//DTD yarprobotinterface 3.0//EN" "http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd">

<devices>

    <!-- COMMON Croppers -->
    <device name="camera_cropper_left" type="frameGrabberCropper">
        <param name="x1">0</param>
        <param name="y1">0</param>
        <param name="x2">639</param>
        <param name="y2">479</param>
        <param name="forwardRgbVisualParams">true</param>

        <action phase="startup" level="5" type="attach">
            <param name="device"> multicamera_device </param>
        </action>
        <action phase="shutdown" level="10" type="detach" />
    </device>

    <device name="camera_cropper_right" type="frameGrabberCropper">
        <param name="x1">640</param>
        <param name="y1">0</param>
        <param name="x2">1279</param>
        <param name="y2">470</param>
        <param name="forwardRgbVisualParams">true</param>

        <action phase="startup" level="5" type="attach">
            <param name="device"> multicamera_device </param>
        </action>
        <action phase="shutdown" level="10" type="detach" />
    </device>


    <!-- YARP Wrappers -->
    <device name="wrapper_left" type="frameGrabber_nws_yarp">
        <param name="name">/SIM_CER_ROBOT/camera/left</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_left </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

    <device name="wrapper_right" type="frameGrabber_nws_yarp">
        <param name="name">/SIM_CER_ROBOT/camera/right</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_right </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

    <device name="wrapper_full" type="frameGrabber_nws_yarp">
        <param name="name">/SIM_CER_ROBOT/camera/full</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> multicamera_device </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>


    <!-- ROS Wrappers -->
    <device name="wrapper_ros_left" type="frameGrabber_nws_ros">
        <param name="nodeName">/wrapper_ros_left</param>
        <param name="imageTopicName">/camera_left/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_left/camera_info</param>
        <param name="frameId">head_leopard_left</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_left </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

    <device name="wrapper_ros_right" type="frameGrabber_nws_ros">
        <param name="nodeName">/wrapper_ros_right</param>
        <param name="imageTopicName">/camera_right/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_right/camera_info</param>
        <param name="frameId">head_leopard_right</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_right </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

<!--
    <device name="wrapper_ros_full" type="frameGrabber_nws_ros">
        <param name="nodeName">/wrapper_ros_full</param>
        <param name="imageTopicName">/camera_full/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_full/camera_info</param>
        <param name="frameId">head_leopard_cyclopic</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> multicamera_device </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>
-->

    <!-- ROS 2 Wrappers -->
<!--
    <device name="wrapper_ros2_left" type="frameGrabber_nws_ros2">
        <param name="nodeName">/wrapper_ros2_left</param>
        <param name="imageTopicName">/camera_left/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_left/camera_info</param>
        <param name="frameId">head_leopard_left</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_left </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>

    <device name="wrapper_ros2_right" type="frameGrabber_nws_ros2">
        <param name="nodeName">/wrapper_ros2_right</param>
        <param name="imageTopicName">/camera_right/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_right/camera_info</param>
        <param name="frameId">head_leopard_right</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> camera_cropper_right </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>
-->

<!--
    <device name="wrapper_ros2_full" type="frameGrabber_nws_ros2">
        <param name="nodeName">/wrapper_ros2_full</param>
        <param name="imageTopicName">/camera_full/image_rect_color</param>
        <param name="cameraInfoTopicName">/camera_full/camera_info</param>
        <param name="frameId">head_leopard_cyclopic</param>

        <action phase="startup" level="10" type="attach">
            <param name="device"> multicamera_device </param>
        </action>
        <action phase="shutdown" level="5" type="detach" />
    </device>
-->
</devices>
